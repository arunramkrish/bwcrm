
<div class="col-lg-12">
  <div class="well bs-component">
    <form id="myform" class="form-horizontal" method="post" action="/userChgpwd">
      <fieldset>
        <legend>Change Password</legend>

        <% var labelColClass = 'col-lg-2 calibriFont' %>
        <% var textBoxColClass = 'col-lg-3 textboxes calibriFont' %>
        <% var labelSpaceWidth = 'width: 12.66666667%;' %>
        <% var offsetForCol2 = 'margin-left : 12.66666667%;' %>
        <% var textInputStyle = "padding-left: 5px ; height : 30px ;" %>
        <% var selectBoxStyle = ' padding-left: 5px; height : 30px ; align : left ; font-size: 17px '%>
        <% var formGroup = ' margin-bottom : 2px; ' %>

        <!-- User Name -->
        <div class="form-group" style="<%= formGroup %>">
          <input type="hidden" name="id" value=<%= p_user.id %> />
          <label style="<%= labelSpaceWidth%>" class="<%= labelColClass %>" for="username" >User Name</label>
          <div class="<%= textBoxColClass %>">
            <input type="text" style="<%= textInputStyle %>" class="form-control" name="username" id="username" value=<%=p_user.username %> required readonly>
          </div>
        </div>

      	<!-- Password -->
      	<div class="form-group" style="<%= formGroup %>">
      	  <label style="<%= labelSpaceWidth%>" class="<%= labelColClass %>" for="password" >Password</label>
      	  <div class="<%= textBoxColClass %>">
      	   <input type="password" style="<%= textInputStyle %>" class="form-control" name="password" id="password" required title="Password">
      	  </div>
      	</div>

      	<!-- Confirm Password -->
      	<div class="form-group" style="<%= formGroup %>">
      	  <label style="<%= labelSpaceWidth%>" class="<%= labelColClass %>" for="cpassword" >Confirm Password</label>
      	  <div class="<%= textBoxColClass %>">
      	    <input type="password" style="<%= textInputStyle %>" class="form-control" name="cpassword" id="cpassword" required title="Confirm Password" onkeyup="checkPass(); return false;">
      	  </div>          
          &nbsp;&nbsp;<span id="confirmMessage" class="confirmMessage"></span>
        </div>

        <!-- Update Button -->
        <div class="form-group" style="<%= formGroup %>">
          <div class="col-lg-10 col-lg-offset-2" style="margin-top : 10px;">
            <input type="submit" class="btn btn-primary" value="Update" />
          </div>
        </div>

      </fieldset>
    </form>
  </div>
</div>

<script>

function checkPass()
{
    var pass1 = document.getElementById('password');
    var pass2 = document.getElementById('cpassword');

    var message = document.getElementById('confirmMessage');

    var goodColor = "#66cc66";
    var badColor = "#ff6666";

    if(pass1.value == pass2.value){
        pass2.style.backgroundColor = goodColor;
        message.style.color = goodColor;
        message.innerHTML = "  Passwords Match!"
    
    }
    else {
        pass2.style.backgroundColor = badColor;
        message.style.color = badColor;
        message.innerHTML = "  Passwords Do Not Match!"
    }
} 

</script>